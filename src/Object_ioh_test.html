<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="js/objistory.js"></script>

    <script>

        var persons = {
            id: 1,
            data: [
                {
                    firstname: 'John',
                    lastname: 'Doe'
                },
                {
                    firstname: 'Jan',
                    lastname: 'Janssens'
                }
            ]
        };

        var p2 = {
            id: 1,
            data: [
                {
                    firstname: 'John',
                    lastname: 'Doe'
                },
                {
                    firstname: 'Jan',
                    lastname: 'Janssens'
                }
            ]
        };

        var histo = objistory.historize(persons, true);

        var ops = objistory.operations;

        histo.upd(ops.ADD, 'ageAverage', 27);
        histo.upd(ops.ADD, 'data.0.age', 32);
        histo.upd(ops.ADD, 'data.1.age', 23);
        histo.upd(ops.ADD, 'data.0.age1', 33);
        histo.upd(ops.DELETE, 'data.0.age');
        histo.upd(ops.SET, 'ageAverage', 28);
        histo.upd(ops.SET, 'data.0', {firstname: 'Jo', lastname: 'Doe'});
        
        histo.set('data.0', {firstname: 'Jo2', lastname: 'Doe'});
        histo.add('data', {firstname: 'Joh', lastname: 'Doe'});
        histo.del('data', 2);
        histo.add('date', new Date());
        histo.del('data');
        histo.add('data', {firstname: 'John', lastname: 'Doe'});
    </script>
</head>
<body>


</body>
</html>